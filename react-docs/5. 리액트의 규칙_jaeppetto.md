### ğŸ“š Reactì—ì„œ ê°•ì¡°í•˜ëŠ” í•µì‹¬

1. ìˆœìˆ˜ì„± : ì»´í¬ë„ŒíŠ¸ì™€ í›…ì€ **ì˜¤ì§ ê³„ì‚°ë§Œ ìˆ˜í–‰**í•´ì•¼ í•œë‹¤.
2. ë©±ë“±ì„± : ê°™ì€ ì…ë ¥(Props, State, Context)ì— ëŒ€í•´ **í•­ìƒ ê°™ì€ ì¶œë ¥ì„ ë³´ì¥**í•´ì•¼ í•œë‹¤.
3. ë Œë”ë§ ì¤‘ì—ëŠ” ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê³ , ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë‚˜ Effectsë¡œ ê²©ë¦¬í•´ì•¼ í•œë‹¤.
   1. ì¼ë°˜ì ìœ¼ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ í†µí•´ íŠ¸ë¦¬ê±° ì‹œì ì„ ì œì–´í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ê³ , ë¶ˆê°€í”¼í•œ ê²½ìš° Effectsë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ê³  ìˆë‹¤.
4. ë¶ˆë³€ì„± : ì¸ìˆ˜ì™€ ë°˜í™˜ê°’ì€ ëª¨ë‘ ë¶ˆë³€ìœ¼ë¡œ ì·¨ê¸‰í•œë‹¤.
5. ì§€ì—­ ë³€ê²½(Local Mutation)ì€ í—ˆìš©í•˜ê³  ìˆë‹¤.
   1. ì˜¤íˆë ¤ ì„±ëŠ¥ ìµœì í™”ì— ìœ ìš©í•˜ë‹¤ê³  ì´ë¥¼ ê¶Œì¥í•˜ê³  ìˆë‹¤.
   2. ì§€ì—­ ë³€ê²½ì€ ë¦¬ì•¡íŠ¸ì˜ ë¦¬ë Œë”ë§ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ê°™ì´ ì´ˆê¸°í™”ë˜ì–´ì„œ ì‚¬ì´ë“œ ì´í™íŠ¸ë¥¼ ìœ ë°œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë¼ê³  í•œë‹¤.
6. ê²°êµ­ ë¦¬ì•¡íŠ¸ì—ì„œ ê°•ì¡°í•˜ëŠ” í•µì‹¬ê³¼ ê·œì¹™ì„ ì¤€ìˆ˜í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ”Â **ë¦¬ì•¡íŠ¸ì˜ ìì²´ì ì¸ ìµœì í™” ë¡œì§ì— ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¬ë§Œí•œ í–‰ìœ„ë¥¼ í•˜ì§€ ì•Šê¸° ìœ„í•¨**ì´ë¼ëŠ” ìƒê°ì´ ë“ ë‹¤.Â ~~ì½”ë”©ì€ ë¶€ì±„ë‹¤!~~

### ğŸ“š Hooksë¥¼ ì¡°ê±´ë¶€ë¡œ í˜¸ì¶œí•˜ë©´ ì•ˆë˜ëŠ” ì´ìœ 

ë¦¬ì•¡íŠ¸ëŠ” í›…ì˜ í˜¸ì¶œ ìˆœì„œë¥¼ ê¸°ì–µí•˜ê³  ìˆëŠ”ë°, ì¡°ê±´ë¶€ë¡œ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ë©±ë“±ì„±ì´ ê¹¨ì§€ê²Œ ëœë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œëŠ” í›…ì„ ì–´ë–»ê²Œ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ìˆì„ê¹Œ? (ê°œë°œí•˜ë©´ì„œ í›… í˜¸ì¶œ ì´ë ¥ì„ ë¹„êµí•˜ì—¬ ë‹¤ë¥¸ ë¶€ë¶„ì„ ì•Œë ¤ì£¼ëŠ” ì—ëŸ¬ ë¡œê·¸ë¥¼ ë³¸ ì ì´ ìˆì„ ê²ƒì´ë‹¤.)

(ì‘ì„± ì¤‘..)

### ğŸ“š State ë˜ëŠ” Propsë¥¼ ì§ì ‘ ë³€ê²½í•˜ëŠ” ê²ƒê³¼ Setterë¥¼ ì‚¬ìš©í•´ ë³€ê²½í•˜ëŠ” ê²ƒì˜ ë¦¬ì•¡íŠ¸ ë‚´ë¶€ ë™ì‘ ì°¨ì´

ì „ë‹¬ë°›ì€ Propsë‚˜ ì„ ì–¸í•œ Stateë¥¼ ì§ì ‘ ì°¸ì¡°í•´ ë³€ê²½í•´ë„ ê°’ì€ ë³€í•˜ì§€ë§Œ, ë Œë”ë§ì€ íŠ¸ë¦¬ê±°ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì€ ì•Œê³  ìˆë‹¤. ë¦¬ì•¡íŠ¸ì˜ SetterëŠ” ë‚´ë¶€ì—ì„œ ì–´ë–»ê²Œ ë™ì‘í•˜ê³ , ì™œ ì§ì ‘ ê°’ì„ ë³€ê²½í•˜ë©´ ì•ˆë˜ëŠ” ê±¸ê¹Œ?

[react-reconciler/src/ReactFiberHooks.js](https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberHooks.js)

```tsx
react/packages/react-reconciler/src/ReactFiberHooks.js

const currentState: S = (queue.lastRenderedState: any);
const eagerState = lastRenderedReducer(currentState, action);
// Stash the eagerly computed state, and the reducer used to compute
// it, on the update object. If the reducer hasn't changed by the
// time we enter the render phase, then the eager state can be used
// without calling the reducer again.
update.hasEagerState = true;
update.eagerState = eagerState;

if (is(eagerState, currentState)) {
  // Fast path. We can bail out without scheduling React to re-render.
  // It's still possible that we'll need to rebase this update later,
  // if the component re-renders for a different reason and by that
  // time the reducer has changed.
  // TODO: Do we still need to entangle transitions in this case?
  enqueueConcurrentHookUpdateAndEagerlyBailout(fiber, queue, update);
  return false;
}
```

ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ë°œìƒ ì‹œ React Fiberì— ì˜í•´ ì—…ë°ì´íŠ¸ ê°ì²´ê°€ íì— ì¶”ê°€ë˜ì–´ ìŠ¤ì¼€ì¤„ë§ì´ ì´ë£¨ì–´ì§€ê²Œ ëœë‹¤. ì´ ê³¼ì •ì—ì„œ ì°¸ì¡° ë™ë“±ì„±(`Object.is()`) ê¸°ë°˜ì˜ ìµœì í™”ê°€ ì´ë£¨ì–´ì§€ëŠ”ë°, í˜„ì¬ì˜ ìƒíƒœì™€ ê°€ì¥ ìµœê·¼ì— ë Œë”ë§ëì—ˆë˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ íì—ì„œ ê°€ì ¸ì™€ ë™ì¼í•œ ì°¸ì¡°ë¥¼ ê°–ëŠ”ë‹¤ë©´, ë¦¬ì•¡íŠ¸ëŠ” í•´ë‹¹ Stateê°€ ë³€ê²½ëœ ë¶€ë¶„ì´ ì—†ë‹¤ê³  íŒë‹¨í•˜ê³  Early Returnì„ ìˆ˜í–‰í•´ë²„ë¦°ë‹¤.

Setter í•¨ìˆ˜ê°€ í˜¸ì¶œë  ê²½ìš° ê¸°ì¡´ê³¼ ë‹¤ë¥¸ ì°¸ì¡°ë¥¼ ê°–ëŠ” ìƒˆë¡œìš´ ê°ì²´ê°€ ë§Œë“¤ì–´ì§€ì§€ë§Œ, ì§ì ‘ì ìœ¼ë¡œ ê°’ì„ ë³€ê²½í•˜ê²Œ ë˜ë©´ ì´ë“¤ì€ ë™ì¼í•œ ì°¸ì¡°ë¥¼ ê°–ëŠ”ë‹¤. ë”°ë¼ì„œ ë Œë” ìŠ¤ì¼€ì¤„ë§ì—ì„œ ì œì™¸ë˜ê³ , í™”ë©´ì´ ì—…ë°ì´íŠ¸ë˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.

ì´ëŠ” ë¦¬ì•¡íŠ¸ì—ì„œ ê°•ì¡°í•˜ê³  ìˆëŠ” **â€˜ì¸ìˆ˜ì™€ ë°˜í™˜ê°’ì˜ ë¶ˆë³€ì„± ìœ ì§€â€™**ë¥¼ ê¹¨ëœ¨ë¦¬ëŠ” í–‰ìœ„ì´ë©´ì„œ í•µì‹¬ ìµœì í™” ë©”ì»¤ë‹ˆì¦˜ì„ ì™„ì „íˆ ë¬´ë ¥ì‹œí‚¤ê²Œ ë˜ëŠ” í–‰ìœ„ì´ê¸° ë•Œë¬¸ì— ì§€ì–‘í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.

<br />

```tsx
react/packages/react-reconciler/src/ReactFiberHooks.js

function mountState<S>(
  initialState: (() => S) | S,
): [S, Dispatch<BasicStateAction<S>>] {
  const hook = mountStateImpl(initialState);
  const queue = hook.queue;
  const dispatch: Dispatch<BasicStateAction<S>> = (dispatchSetState.bind(
    null,
    currentlyRenderingFiber,
    queue,
  ): any);
  queue.dispatch = dispatch;
  return [hook.memoizedState, dispatch];
}

function updateState<S>(
  initialState: (() => S) | S,
): [S, Dispatch<BasicStateAction<S>>] {
  return updateReducer(basicStateReducer, initialState);
}

function rerenderState<S>(
  initialState: (() => S) | S,
): [S, Dispatch<BasicStateAction<S>>] {
  return rerenderReducer(basicStateReducer, initialState);
}
```

ì¬ë°ŒëŠ” ì ì€ **ìµœì´ˆ ë§ˆìš´íŠ¸ëƒ, ë¦¬ë Œë”ë§ì´ëƒì— ë”°ë¼ í•¨ìˆ˜ë¥¼ ë‹¤ë¥´ê²Œ í˜¸ì¶œí•˜ì—¬ ì²˜ë¦¬**í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.Current Fiber ë˜ëŠ” Fiberì˜ memoizedStateê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš° UpdateDispatcherë¥¼, ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° MountDispatcherë¥¼ ë¶„ê¸°í•˜ì—¬ í˜¸ì¶œí•˜ê³  ìˆë‹¤. ë‚´ë¶€ êµ¬í˜„ì´ useReducerë¡œ êµ¬í˜„ë˜ì–´ ìˆëŠ” ë¶€ë¶„ë„ í¥ë¯¸ë¡œìš´ ê²ƒ ê°™ë‹¤.

### ğŸ“š Case Study

![react_rules_case_study](./images/react_rules_case_study.png)

(ì‘ì„± ì¤‘..)

---

**(TODO)Â ë”¥ë‹¤ì´ë¸Œ : Reactì˜ ë Œë”ë§ ìµœì í™”ì™€ Fiber Architecture**

1. Reactì˜ ë Œë”ë§ ê³¼ì •ì€ ì–´ë–»ê²Œ ì´ë£¨ì–´ì§€ê¸¸ë˜ ì´ëŸ° ê·œì¹™ë“¤ì„ ì¤€ìˆ˜í•´ì•¼ í•˜ëŠ”ê°€?
2. Reactì˜ ìë™ ë Œë”ë§ ìµœì í™”?
3. React ë™ì‹œì„± ê¸°ëŠ¥(Concurrent Features)ê³¼ ì‹œë¶„í•  ë Œë”ë§(Time Slicing)
4. React Fiber, Diffing Algorithm
